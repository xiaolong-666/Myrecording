# python 中truncate()踩坑

文件以 `r+` 方式打开，`readlines()` 后，指针默认移动到最后。调用 `truncate(0)` 方法后，原有内容被默认删除，**但是文件指针的位置没有发生变化** ，文件中原来位置的内容，被数字 `\0` 填充，也就是 `0x00` 。如果现在直接写入后续新的内容，则会从原来文件指针的位置（末尾）开始。

导致，文件内容开始部分不正常。



解决方法：

- read 内容后
- seek(0) 移动指针位置到开始位置
- truncate(0) 截取